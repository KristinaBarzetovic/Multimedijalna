const questions = [
    {
    question : 'Svetlosna godina je jedinica za merenje?  ',
    answers: [
    { text: "vremena", correct: false},
    { text: "povrsine", correct: false},
    { text: "rastojanja", correct: true},
    { text: "zapremine", correct: false}
    ]
    },
    {
        question : 'Lucerka je?  ',
        answers: [
        { text: "sorta krava", correct: false},
        { text: "kreativna životinja", correct: false},
        { text: "vrsta deteline", correct: true},
        ]
        },
    {
        question : ' Istraživačka stanica Petnica nalazi se u blizini?                   ',
        answers: [
     { text: 'Valjeva', correct: true},
        { text: 'Beograda', correct: false},
        { text: 'Užica', correct: false},
        { text: 'Požarevca', correct: false},
        ]
        },
    {
        question : ' Prvi ustav u istoriji Srbije usvojen je na?      ',
        answers: [
     { text: 'Vidovdan', correct: false},
        { text: 'Sretenje', correct: true},
        { text: 'Bogojavljenje', correct: false},
        { text: 'Savindan', correct: false},
        ]
        },
        {
            question : '  Šta se od navedenog prodaje u Tifani prodavnicama??      ',
            answers: [
         { text: 'Retke knjige', correct: false},
            { text: 'Luksuzni nakit', correct: true},
            { text: 'Muzički instrumenti', correct: false},
            { text: ' Elektronski uređaji', correct: false},
            ]
            },
       
    {
        question : 'Četiri bajta se sastoji od:  ',
        answers: [
     { text: '32bita', correct: true},
        { text: '64bita', correct: false},
        { text: '12bita', correct: false},
        { text: '13bita', correct: false},
        ]
        },
        {
            question : '  Da bi se dezinfikovala voda za piće, vodi se dodaje:        ',
            answers: [
         { text: 'argon', correct: false},
            { text: 'hlor', correct: true},
            { text: 'magnezijum', correct: false},
            { text: 'fosfor', correct: false},
            ]
            },
        {
            question : ' Obraćanje širokom auditorijumu korišćenjem različitih medija, čime se utiče na sadašnje i  potencijalne kupce da kupe konkretne proizvode/usluge, naziva se:',
            answers: [
            { text: 'oglašavanje', correct: true},
            { text: 'misija', correct: false},
            { text: 'odnosi s javnošću', correct: false},
            { text: 'poslovna aktivnost', correct: false},
            ]
            },
            {
                question : ' Koji od sledećih spada u grupu romanskih jezika?                   ',
                answers: [
             { text: 'Francuski', correct: true},
                { text: 'Romski', correct: false},
                { text: 'Finski', correct: false},
                { text: 'Albanski', correct: false},
                ]
                },
                {
                    question : '  Kolika je razlika izmedju julijanskog i gregorijanskog kalendara?  ',
                    answers: [
                 { text: '21 dan', correct: false},
                    { text: '13 dana', correct: true},
                    { text: 'mesec dana', correct: false},
                    { text: '15 dana', correct: false},
                    ]
                    },
            {
                question : ' Da bi postao besmrtan, jedan mitski junak morao je da izvrši dvanaest teških zadataka. Koji je to junak?',
                answers: [
                { text: 'Herkul', correct: true},
                { text: 'Ahil', correct: false},
                { text: 'Odisej ', correct: false},
                { text: 'Tezej', correct: false},
                ]
                },
                {
                    question : ' Semiti su ?                    ',
                    answers: [
                 { text: 'drevni bliskoistočni narodi', correct: true},
                    { text: 'mali hlepčići', correct: false},
                    { text: 'crveni mravi', correct: false},
                    { text: 'plodovi tropske voćke', correct: false},
                    ]
                    },
                {
                    question : ' Kako se zove staroslovenska boginja proleća?                    ',
                    answers: [
                 { text: 'Vesna', correct: true},
                    { text: 'Lela', correct: false},
                    { text: 'Lada', correct: false},
                    { text: 'Nera', correct: false},
                    ]
                    },
                    {
                        question : ' Kog hemijskog elementa ima najviše u sastavu Sunca?                                ?                    ',
                        answers: [
                     { text: 'Kiseonika  ', correct: false},
                        { text: 'Azota', correct: false},
                        { text: 'Vodonika', correct: true},
                        { text: 'Helijuma', correct: false},
                        ]
                        },
                    {
                        question : 'Koji naš grad je proglašen evropskom prestonicom kulture za 2021 godinu?  ',
                        answers: [
                     { text: 'Beograd', correct: false},
                        { text: 'Kragujevac', correct: false},
                        { text: 'Niš', correct: false},
                        { text: 'Novi Sad', correct: true},
                        ]
                        },
                        {
                            question : 'Amorfno znači?  ',
                            answers: [
                            { text: "neobično", correct: false},
                            { text: "negativno", correct: false},
                            { text: "neuobličeno", correct: true},
                            ]
                            },
                        {
                            question : 'Poznata staza za trke Formule 1 u Italiji nalazi se u gradu?  ',
                            answers: [
                         { text: 'Napulj', correct: false},
                            { text: 'Palermo', correct: false},
                            { text: 'Bari', correct: false},
                            { text: 'Monca', correct: true},
                            ]
                            },
                            {
                                question : '  Šta od navedenog nije programski jezik?                                ?                    ',
                                answers: [
                             { text: 'MS Word', correct: true},
                                { text: 'C++', correct: false},
                                { text: 'C#', correct: false},
                                { text: 'Java', correct: false},
                                ]
                                },
                                {
                                    question : ' Organizacija Ujedinjenih Nacija (OUN) osnovana je?                                ?                    ',
                                    answers: [
                                 { text: ' posle prekida “Hladnog rata”  između SAD i SSSR', correct: false},
                                    { text: 'početkom XX veka', correct: false},
                                    { text: 'posle Drugog svetskog rata', correct: true},
                                    ]
                                    },
                                    {
                                        question : '  Ko je komponovao melodiju za himnu Bože pravde?                                ?                    ',
                                        answers: [
                                     { text: 'Davorin Jenko', correct: true},
                                        { text: 'Kornelije Stankovic', correct: false},
                                        { text: 'Stevan Hristic', correct: false},
                                        { text: 'Stevan Mokranjac', correct: false},
                                        ]
                                        },
                              
                        
    
    ];

    const questionElement=document.getElementById("question");
    const answerButtons=document.getElementById("answer-buttons");
    const nextButton=document.getElementById("next-btn");

    let currentQuestionIndex = 0;
    let score = 0;

    function startQuiz(){
        currentQuestionIndex = 0;
        score=0;
        nextButton.innerHTML="next";
        showQuestion();

    }

    function showQuestion(){
        resetState();
        let currentQuestion = questions[currentQuestionIndex];
        let questionNo = currentQuestionIndex+1;
        questionElement.innerHTML = questionNo+". " + currentQuestion.question;

        currentQuestion.answers.forEach(answer => {
            const button = document.createElement("button");
            button.innerHTML = answer.text;
            button.classList.add("btn");
            answerButtons.appendChild(button);
            if(answer.correct){
                button.dataset.correct = answer.correct;
            }

            button.addEventListener("click", selectAnswer);

        });

    }

    

    function resetState(){
        nextButton.style.display="none";
        while(answerButtons.firstChild){
            answerButtons.removeChild(answerButtons.firstChild);

        }
    }

    function selectAnswer(e){
        const selectedBtn = e.target;
        const isCorrect = selectedBtn.dataset.correct === "true";
        if(isCorrect){
            selectedBtn.classList.add("correct");
            score++;
        }
        else{
            selectedBtn.classList.add("incorrect");
        }
        Array.from(answerButtons.children).forEach(button => {
            if(button.dataset.correct === "true"){
                button.classList.add("correct");
            }
            button.disabled = true;
        });
        nextButton.style.display = "block";
    }
    function showScore(){
        resetState();
        questionElement.innerHTML = `You scored ${score} out of ${questions.length}!`;
        nextButton.innerHTML = "Play again";
        nextButton.style.display = "block";
    }
    function handleNextButton(){
        currentQuestionIndex++;
        if(currentQuestionIndex < questions.length){
            showQuestion();
        }else{
            showScore();
        }
    }
    nextButton.addEventListener("click", ()=>{
        if(currentQuestionIndex < questions.length){
            handleNextButton();
        }
        else{
            startQuiz();
        }
    });
    
startQuiz();
